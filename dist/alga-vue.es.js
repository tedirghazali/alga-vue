import{computed as e,ref as l,watch as t}from"vue";function u(l,t){return{getColumnProperties:e((()=>l.value.map((e=>{if("object"==typeof e&&"prop"in e||"property"in e)return e.prop||e.property})))),getColumnData:e=>{const l=t.value.map((l=>l[e]));return Array.from(new Set(l))}}}function r(l,t,u){const r=e((()=>{let e=[];return e=t.value.length>1?l.value.filter((e=>{for(const l of Object.keys(e)){if(!1===isNaN(e[l])&&Number(e[l])===Number(t.value))return!0;if("string"==typeof e[l]&&String(e[l]).toLowerCase().includes(String(t.value).toLowerCase()))return!0}return!1})):l.value,e})),n=e((()=>{const e={},l=new Set(["",0,null,void 0]);for(const t of Object.keys(u.value))l.has(u.value[t])||(e[t]=u.value[t]);return e})),a=e((()=>{let e=r.value;for(const l of Object.keys(n.value))e=e.filter((e=>{if(l in e){if(!1===isNaN(e[l])&&Number(e[l])===Number(n.value[l]))return!0;if("string"==typeof e[l]&&String(e[l]).toLowerCase().includes(String(n.value[l]).toLowerCase()))return!0}return!1}));return e}));return{searchedEntries:r,getCleanFilter:n,filteredEntries:a}}function n(l,t){return{sortedEntries:e((()=>{let e=l.value;return"by"in t.value&&""!==t.value.by&&e.sort(((e,l)=>{if(t.value.col in e&&t.value.col in l){if(!1===isNaN(e[t.value.col])&&!1===isNaN(l[t.value.col]))return"asc"===t.value.by?Number(e[t.value.col])-Number(l[t.value.col]):Number(l[t.value.col])-Number(e[t.value.col]);if("string"==typeof e[t.value.col]&&"string"==typeof l[t.value.col])return"asc"===t.value.by?e[t.value.col].localeCompare(l[t.value.col]):l[t.value.col].localeCompare(e[t.value.col])}})),e}))}}function a(l,t,u,r){const n=e((()=>t.value*u.value-(t.value-1))),a=e((()=>{let e=Math.ceil(l.value.length/t.value);return e<1&&(e=1),e})),o=e((()=>l.value.slice(n.value-1,t.value*u.value))),i=e((()=>{const e=t.value*u.value;return{start:n.value,end:e<l.value.length?e:l.value.length,length:l.value.length}})),v=e((()=>{let e=[];const l=a.value<u.value?a.value:u.value,t=u.value<1?1:u.value,n=l+r.value,o=t-r.value;if(0===r.value)for(let u=1;u<=a.value;u++)e.push(u);else{if(t>1)for(let l=o;l<t;l++)e.push(l);for(let t=l;t<=n;t++)e.push(t)}const i=e.filter((e=>Number(e)>0)).filter((e=>Number(e)<=a.value));return n<a.value&&0!==r.value&&i.push("..."),o>1&&0!==r.value&&i.unshift("..."),i}));return{getOffset:n,getPages:a,paginatedEntries:o,getPageInfo:i,getPagination:v,handleEllipsis:(e,l)=>{let t=l,u=Math.floor(Number(l)/2),r=l;return Number(l)%2==0&&(r=Number(l)+1),t=Number(e)<=u?r-(Number(e)-1):u,t}}}function o(u,r){const n=l([]),a=()=>{n.value=u.value,""!==r.value&&(n.value=u.value.filter((e=>String(null==e?void 0:e.id).toLowerCase()===String(r.value).toLowerCase())))};a(),t(r,a);return{setContinents:a,getContinents:e((()=>n.value.sort(((e,l)=>String(null==e?void 0:e.continent).localeCompare(String(null==l?void 0:l.continent))))))}}function i(u,r,n){const a=l([]),o=()=>{a.value=u.value,""!==n.value&&(a.value=u.value.filter((e=>String(null==e?void 0:e.continent).toLowerCase()===String(n.value).toLowerCase()))),""!==r.value&&(a.value=u.value.filter((e=>String(null==e?void 0:e.id).toLowerCase()===String(r.value).toLowerCase())))};o(),t(r,o);return{setRegions:o,getRegions:e((()=>a.value.sort(((e,l)=>String(null==e?void 0:e.region).localeCompare(String(null==l?void 0:l.region))))))}}function v(u,r,n){const a=l([]),o=()=>{a.value=u.value,""!==n.value&&(a.value=u.value.filter((e=>String(null==e?void 0:e.region).toLowerCase()===String(n.value).toLowerCase()))),""!==r.value&&(a.value=u.value.filter((e=>String(null==e?void 0:e.id).toLowerCase()===String(r.value).toLowerCase())))};o(),t(r,o);return{setCountries:o,getCountries:e((()=>a.value.sort(((e,l)=>String(null==e?void 0:e.country).localeCompare(String(null==l?void 0:l.country))))))}}function s(u,r,n){const a=l([]),o=()=>{var e;a.value=u.value,""!==r.value&&(a.value=(null==(e=u.value)?void 0:e[r.value])||[],""!==n.value&&(a.value=a.value.filter((e=>String(null==e?void 0:e.id).toLowerCase()===String(n.value).toLowerCase()))),a.value=a.value.sort(((e,l)=>String(null==e?void 0:e.division).localeCompare(String(null==l?void 0:l.division)))))};o(),t(r,o),t(n,o);return{setDivisions:o,getDivisions:e((()=>a.value))}}export{o as useContinents,v as useCountries,s as useDivisions,r as useFilter,a as usePaginate,i as useRegions,n as useSort,u as useTable};
