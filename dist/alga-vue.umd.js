!function(e,a){"object"==typeof exports&&"undefined"!=typeof module?a(exports,require("vue"),require("alga-js")):"function"==typeof define&&define.amd?define(["exports","vue","alga-js"],a):a((e="undefined"!=typeof globalThis?globalThis:e||self)["alga-vue"]={},e.Vue,e.AlgaJS)}(this,(function(e,a,u){"use strict";e.handleCalendar=function(e=null,t=null,l=null,v={value:"en-US"},n={value:"short"},r={value:"long"}){const o=a.ref(0),s=a.ref(0),m=a.ref(0),d=a.ref(0),g=a.ref(0),f=a.ref(""),b=a.ref(0);o.value=null!==e&&0!==e.value?e.value:Number((new Date).getFullYear()),s.value=null!==t&&0!==t.value?t.value:Number((new Date).getMonth())+1,m.value=null!==l&&0!==l.value?l.value:(new Date).getDate();const c=a.computed((()=>{const e=0!==d.value?d.value:1980,a=0!==g.value?g.value:Number((new Date).getFullYear())+5;return u.number.loop(e,a)})),D=a.computed((()=>u.date.months(v.value,r.value))),p=a.computed((()=>u.date.days(v.value,n.value))),N=a.computed((()=>u.date.week(o.value,s.value,m.value)));b.value=N.value;const y=a.computed((()=>{let e="";return e="daily"===f.value?`${p.value[new Date(o.value,Number(s.value)-1,m.value).getDay()]}, ${m.value} ${D.value[new Date(o.value,Number(s.value)-1).getMonth()]} ${o.value}`:"weekly"===f.value?`Week ${b.value}`:"yearly"===f.value?`${o.value}`:`${D.value[new Date(o.value,Number(s.value)-1).getMonth()]} ${o.value}`,e}));return{setYearRef:o,setMonthRef:s,setDayRef:m,setWeeks:b,setCalendarType:f,startYear:d,endYear:g,getRangeYears:c,getMonthNames:D,getDayNames:p,getWeeks:N,getCalendarTitle:y,handleYear:e=>{o.value="prev"===e?o.value-1:"next"===e?o.value+1:(new Date).getFullYear()},handleMonth:e=>{"prev"===e?s.value>1&&s.value<=12?s.value=s.value-1:1===s.value&&(s.value=12,o.value=o.value-1):"next"===e?s.value>=1&&s.value<12?s.value=s.value+1:12===s.value&&(s.value=1,o.value=o.value+1):(s.value=Number((new Date).getMonth())+1,o.value=(new Date).getFullYear())},handleWeek:e=>{"prev"===e?1!==b.value?b.value=b.value-1:b.value=52:"next"===e?52!==b.value?b.value=b.value+1:b.value=1:b.value=N.value},handleDay:e=>{"prev"===e?1!==m.value?m.value=m.value-1:(m.value=Number(u.date.daysInMonth(o.value,Number(s.value)-1)),s.value>1&&s.value<=12?s.value=s.value-1:1===s.value&&(s.value=12,o.value=o.value-1)):"next"===e?m.value!==Number(u.date.daysInMonth(o.value,s.value))?m.value=m.value+1:(m.value=1,s.value>=1&&s.value<12?s.value=s.value+1:12===s.value&&(s.value=1,o.value=o.value+1)):(s.value=Number((new Date).getMonth())+1,o.value=(new Date).getFullYear(),m.value=(new Date).getDate())}}},e.useCalculate=function(e="quantity",u="price",t="amount"){const l=a.ref([]),v=a.ref([]),n=a.computed((()=>l.value.map((a=>(a[t]=Number((Number(a[e])*Number(a[u])).toFixed(2)),a))))),r=a.computed((()=>l.value.length>=1?Number(l.value.map((a=>Number(a[e])*Number(a[u]))).reduce(((e,a)=>e+a)).toFixed(2)):0)),o=a.computed((()=>v.value.map((e=>("percent"===e.type&&(e.amount=Number(e.amount)/100*Number(r.value),e.type="number"),e))))),s=a.computed((()=>{let e=r.value;for(let a of o.value)e="subtraction"===a.calc?Number(e)-Number(a.amount):Number(e)+Number(a.amount);return Number(e.toFixed(2))}));return{setEntries:l,setRates:v,getEntries:n,getSubTotal:r,getRates:o,getTotal:s}},e.useCalendar=function(e=null,t=null,l=null,v={value:"en-US"},n={value:"short"}){const r=a.ref(0),o=a.ref(0),s=a.ref(0),m=a.ref(0),d=a.ref([]),g=a.reactive({dateEvent:"startdate"});r.value=null!==e&&0!==e.value?e.value:Number((new Date).getFullYear()),o.value=null!==t&&0!==t.value?t.value:Number((new Date).getMonth())+1,s.value=null!==l&&0!==l.value?l.value:Number((new Date).getDate());const f=a.computed((()=>u.date.days(v.value,n.value))),b=a.computed((()=>u.date.week(r.value,o.value,s.value)));m.value=b.value;const c=a.computed((()=>u.date.weeks(r.value,m.value,"YYYY-MM-DD"))),D=a.computed((()=>{const e=Number(new Date(r.value,Number(o.value)-1,1).getDay());let a=[];if(e>0){for(let t=Number(u.date.daysInMonth(r.value,Number(o.value)-1))-(e-1);t<=Number(u.date.daysInMonth(r.value,Number(o.value)-1));t++)a.push(t)}return a})),p=a.computed((()=>u.date.daysInMonth(r.value,o.value))),N=a.computed((()=>{const e=Number(new Date(r.value,Number(o.value)-1,Number(u.date.daysInMonth(r.value,o.value))).getDay());let a=[];if(e<6){const u=6-e;for(let e=1;e<=u;e++)a.push(e)}return a})),y=Number(new Date(r.value,Number(o.value)-1,s.value).getDay()),i=a.computed((()=>{let e=[];if(y>0){const a=y+1;for(let t=1;t<a;t++)e.push(u.date.subtractDate(new Date(r.value,Number(o.value)-1,s.value),t),"YYYY-MM-DD")}return e})),h=a.computed((()=>{let e=[];if(y<6){const a=6-y;for(let t=1;t<=a;t++)e.push(u.date.addDate(new Date(r.value,Number(o.value)-1,s.value),t),"YYYY-MM-DD")}return e})),w=a.computed((()=>d.value.length>=1?u.array.group(d.value,(e=>{if(g.dateEvent in e)return new Date(e[g.dateEvent]).getDate()})):[])),M=a.computed((()=>d.value.length>=1?u.array.group(d.value,(e=>{if(g.dateEvent in e)return new Date(e[g.dateEvent]).getHours()})):[]));return{setYearRef:r,setMonthRef:o,setDayRef:s,setWeeks:m,getWeeks:b,getWeekDays:c,getDayNames:f,getPrevDays:D,getMonthDays:p,getNextDays:N,getBeforeDays:i,getAfterDays:h,setEvents:d,getEvents:w,getEventsByTime:M}},Object.defineProperty(e,"__esModule",{value:!0}),e[Symbol.toStringTag]="Module"}));
