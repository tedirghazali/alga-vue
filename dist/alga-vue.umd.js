!function(e,u){"object"==typeof exports&&"undefined"!=typeof module?u(exports,require("vue")):"function"==typeof define&&define.amd?define(["exports","vue"],u):u((e="undefined"!=typeof globalThis?globalThis:e||self)["alga-vue"]={},e.Vue)}(this,(function(e,u){"use strict";e.useFilter=function(e,t,l){const r=u.computed((()=>{let u=[];return u=t.value.length>1?e.value.filter((e=>{for(const u of Object.keys(e)){if(!1===isNaN(e[u])&&Number(e[u])===Number(t.value))return!0;if("string"==typeof e[u]&&e[u].toLowerCase().includes(t.value.toLowerCase()))return!0}return!1})):e.value,u})),a=u.computed((()=>{const e={},u=new Set(["",0,null,void 0]);for(const t of Object.keys(l.value))u.has(l.value[t])||(e[t]=l.value[t]);return e})),o=u.computed((()=>{let e=r.value;for(const u of Object.keys(a.value))e=e.filter((e=>{if(u in e){if(!1===isNaN(e[u])&&Number(e[u])===Number(a.value[u]))return!0;if("string"==typeof e[u]&&e[u].toLowerCase().includes(a.value[u].toLowerCase()))return!0}return!1}));return e}));return{searchedEntries:r,getCleanFilter:a,filteredEntries:o}},e.usePaginate=function(e,t,l,r){const a=u.computed((()=>t.value*l.value-(t.value-1))),o=u.computed((()=>{let u=Math.ceil(e.value.length/t.value);return u<1&&(u=1),u})),n=u.computed((()=>e.value.slice(a.value-1,t.value*l.value))),i=u.computed((()=>{const u=t.value*l.value;return{start:a.value,end:u<e.value.length?u:e.value.length,length:e.value.length}})),v=u.computed((()=>{let e=[];const u=o.value<l.value?o.value:l.value,t=l.value<1?1:l.value,a=u+r.value,n=t-r.value;if(0===r.value)for(let l=1;l<=o.value;l++)e.push(l);else{if(t>1)for(let u=n;u<t;u++)e.push(u);for(let t=u;t<=a;t++)e.push(t)}const i=e.filter((e=>Number(e)>0)).filter((e=>Number(e)<=o.value));return a<o.value&&0!==r.value&&i.push("..."),n>1&&0!==r.value&&i.unshift("..."),i}));return{getOffset:a,getPages:o,paginatedEntries:n,getPageInfo:i,getPagination:v,handleEllipsis:(e,u)=>{let t=u,l=Math.floor(Number(u)/2),r=u;return Number(u)%2==0&&(r=Number(u)+1),t=Number(e)<=l?r-(Number(e)-1):l,t}}},e.useSort=function(e,t){return{sortedEntries:u.computed((()=>{let u=e.value;return"by"in t.value&&""!==t.value.by&&u.sort(((e,u)=>{if(t.value.col in e&&t.value.col in u){if(!1===isNaN(e[t.value.col])&&!1===isNaN(u[t.value.col]))return"asc"===t.value.by?Number(e[t.value.col])-Number(u[t.value.col]):Number(u[t.value.col])-Number(e[t.value.col]);if("string"==typeof e[t.value.col]&&"string"==typeof u[t.value.col])return"asc"===t.value.by?e[t.value.col].localeCompare(u[t.value.col]):u[t.value.col].localeCompare(e[t.value.col])}})),u}))}},e.useTable=function(e,t){return{getColumnProperties:u.computed((()=>e.value.map((e=>{if("object"==typeof e&&"prop"in e||"property"in e)return e.prop||e.property})))),getColumnData:e=>{const u=t.value.map((u=>u[e]));return Array.from(new Set(u))}}},Object.defineProperty(e,"__esModule",{value:!0}),e[Symbol.toStringTag]="Module"}));
