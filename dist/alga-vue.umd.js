!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("vue")):"function"==typeof define&&define.amd?define(["exports","vue"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self)["alga-vue"]={},e.Vue)}(this,(function(e,t){"use strict";const u=t.ref("");const l=t.ref("");const o=t.ref("");const r=t.ref(""),n=t.ref("");e.useContinents=function(e,l=u){const o=t.ref([]),r=()=>{o.value=e.value,""!==l.value&&(o.value=e.value.filter((e=>String(null==e?void 0:e.id).toLowerCase()===String(l.value).toLowerCase())))};return r(),t.watch(l,r),{setContinents:r,getContinents:t.computed((()=>o.value.sort(((e,t)=>String(null==e?void 0:e.continent).localeCompare(String(null==t?void 0:t.continent))))))}},e.useCountries=function(e,u=o,l=""){const r=t.ref([]),n=()=>{r.value=e.value,"region"===l&&""!==u.value&&(r.value=e.value.filter((e=>String(null==e?void 0:e.region).toLowerCase()===String(u.value).toLowerCase()))),"id"===l&&""!==u.value&&(r.value=e.value.filter((e=>String(null==e?void 0:e.id).toLowerCase()===String(u.value).toLowerCase())))};return n(),t.watch(u,n),{setCountries:n,getCountries:t.computed((()=>r.value.sort(((e,t)=>String(null==e?void 0:e.country).localeCompare(String(null==t?void 0:t.country))))))}},e.useDivisions=function(e,u=r,l=n){const o=t.ref([]),a=()=>{var t;""!==u.value&&(o.value=(null==(t=e.value)?void 0:t[u.value])||[],""!==l.value&&(o.value=o.value.filter((e=>String(null==e?void 0:e.id).toLowerCase()===String(l.value).toLowerCase()))))};return a(),t.watch(u,a),t.watch(l,a),{setDivisions:a,getDivisions:t.computed((()=>o.value.sort(((e,t)=>String(null==e?void 0:e.division).localeCompare(String(null==t?void 0:t.division))))))}},e.useFilter=function(e,u,l){const o=t.computed((()=>{let t=[];return t=u.value.length>1?e.value.filter((e=>{for(const t of Object.keys(e)){if(!1===isNaN(e[t])&&Number(e[t])===Number(u.value))return!0;if("string"==typeof e[t]&&String(e[t]).toLowerCase().includes(String(u.value).toLowerCase()))return!0}return!1})):e.value,t})),r=t.computed((()=>{const e={},t=new Set(["",0,null,void 0]);for(const u of Object.keys(l.value))t.has(l.value[u])||(e[u]=l.value[u]);return e})),n=t.computed((()=>{let e=o.value;for(const t of Object.keys(r.value))e=e.filter((e=>{if(t in e){if(!1===isNaN(e[t])&&Number(e[t])===Number(r.value[t]))return!0;if("string"==typeof e[t]&&String(e[t]).toLowerCase().includes(String(r.value[t]).toLowerCase()))return!0}return!1}));return e}));return{searchedEntries:o,getCleanFilter:r,filteredEntries:n}},e.usePaginate=function(e,u,l,o){const r=t.computed((()=>u.value*l.value-(u.value-1))),n=t.computed((()=>{let t=Math.ceil(e.value.length/u.value);return t<1&&(t=1),t})),a=t.computed((()=>e.value.slice(r.value-1,u.value*l.value))),i=t.computed((()=>{const t=u.value*l.value;return{start:r.value,end:t<e.value.length?t:e.value.length,length:e.value.length}})),v=t.computed((()=>{let e=[];const t=n.value<l.value?n.value:l.value,u=l.value<1?1:l.value,r=t+o.value,a=u-o.value;if(0===o.value)for(let l=1;l<=n.value;l++)e.push(l);else{if(u>1)for(let t=a;t<u;t++)e.push(t);for(let u=t;u<=r;u++)e.push(u)}const i=e.filter((e=>Number(e)>0)).filter((e=>Number(e)<=n.value));return r<n.value&&0!==o.value&&i.push("..."),a>1&&0!==o.value&&i.unshift("..."),i}));return{getOffset:r,getPages:n,paginatedEntries:a,getPageInfo:i,getPagination:v,handleEllipsis:(e,t)=>{let u=t,l=Math.floor(Number(t)/2),o=t;return Number(t)%2==0&&(o=Number(t)+1),u=Number(e)<=l?o-(Number(e)-1):l,u}}},e.useRegions=function(e,u=l,o=""){const r=t.ref([]),n=()=>{r.value=e.value,"continent"===o&&""!==u.value&&(r.value=e.value.filter((e=>String(null==e?void 0:e.continent).toLowerCase()===String(u.value).toLowerCase()))),"id"===o&&""!==u.value&&(r.value=e.value.filter((e=>String(null==e?void 0:e.id).toLowerCase()===String(u.value).toLowerCase())))};return n(),t.watch(u,n),{setRegions:n,getRegions:t.computed((()=>r.value.sort(((e,t)=>String(null==e?void 0:e.region).localeCompare(String(null==t?void 0:t.region))))))}},e.useSort=function(e,u){return{sortedEntries:t.computed((()=>{let t=e.value;return"by"in u.value&&""!==u.value.by&&t.sort(((e,t)=>{if(u.value.col in e&&u.value.col in t){if(!1===isNaN(e[u.value.col])&&!1===isNaN(t[u.value.col]))return"asc"===u.value.by?Number(e[u.value.col])-Number(t[u.value.col]):Number(t[u.value.col])-Number(e[u.value.col]);if("string"==typeof e[u.value.col]&&"string"==typeof t[u.value.col])return"asc"===u.value.by?e[u.value.col].localeCompare(t[u.value.col]):t[u.value.col].localeCompare(e[u.value.col])}})),t}))}},e.useTable=function(e,u){return{getColumnProperties:t.computed((()=>e.value.map((e=>{if("object"==typeof e&&"prop"in e||"property"in e)return e.prop||e.property})))),getColumnData:e=>{const t=u.value.map((t=>t[e]));return Array.from(new Set(t))}}},Object.defineProperty(e,"__esModule",{value:!0}),e[Symbol.toStringTag]="Module"}));
